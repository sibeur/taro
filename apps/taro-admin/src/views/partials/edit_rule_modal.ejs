<div class="modal" id="edit-rule-modal">
    <a href="#close" class="modal-overlay" aria-label="Close" @click="onModalClosed"></a>
    <div class="modal-container">
        <div class="modal-header">
            <a href="#close" class="btn btn-clear float-right" aria-label="Close"></a>
            <div class="modal-title h5">Edit new rule</div>
        </div>
        <div class="modal-body">
            <div class="content">
                <div class="form-group">
                    <label class="form-label" for="input-name">Name</label>
                    <input class="form-input" type="text" v-model="name" id="input-name" placeholder="Enter your rule name">
                    <span class="text-error" v-if="errors.name != null">{{errors.name}}</span>
                </div>
                <div class="form-group">
                    <label class="form-label" for="input-size">Max File Size</label>
                    <input class="form-input" type="number" v-model="maxSize" id="input-size" min="1" placeholder="Enter your Maximum file size (KB.)">
                    <span class="text-error" v-if="errors.maxSize != null">{{errors.maxSize}}</span>
                </div>
                <div class="form-group">
                    <label class="form-label" for="input-file-types">File types</label>
                    <select name="mimes" class="form-input" v-model="mime" id="input-file-types">
                        <option v-for="mime in allowedMimes" :value="mime.value">{{ mime.label }}</option>
                    </select>
                    <div style="margin-top: 5px;" v-if="selectedMimes.length > 0">
                        <span>Selected Mimes:</span>
                        <span class="chip" v-for="mime in selectedMimes">
                            {{ mime.label }}
                            <span href="#" class="btn btn-clear" @click="onDismissSelectedMime(mime)" aria-label="Close" role="button"></span>
                        </span>
                    </div>
                    <span class="text-error" v-if="errors.mime != null">{{errors.mime}}</span>
                </div>

                <div class="form-group">
                    <label class="form-label" for="input-storage-driver">Storage Driver</label>
                    <select name="driver" v-model="driver" class="form-input" id="input-storage-driver">
                        <option value="drive">Drive</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="modal-footer">
            <a href="#close" class="btn" style="margin-right: 5px;"  @click="onModalClosed">Cancel</a>
            <button class="btn btn-primary" :disabled="isLoading" @click="onSubmitRule">Submit</button>
        </div>
    </div>
</div>

<script>
    var ruleData = <%- JSON.stringify(rule) %>;
</script>

<script src="/public/js/edit_rule_modal.js"></script>